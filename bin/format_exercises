#!/bin/bash
# Format existing exercises using rustfmt

EXERCISES_PATH="../exercises/"

# Some exercises use custom formatting for illustration purpose and should not be formatted. 
IGNORED_EXERCISES=(
	"diamond" 
	"minesweeper" 
	"rectangles"
)

cd "$EXERCISES_PATH"

# Iterate over every exercise directory and if it is not ignored - format it
for exercise_dir in ./*; do
	exercise_name=${exercise_dir##*/}

	if [[ " ${IGNORED_EXERCISES[*]} " == *"$exercise_name"* ]]; then
		echo "$exercise_name - Ignored"
	else
		echo "$exercise_name - Formatting"

		cd "$exercise_dir"

		cargo fmt

		cd ".."
	fi

done
